<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap-theme.min.css">
</head>
<body class="container">
<h1>Two post form example (with / without file uploads)</h1>

<script src="/assets/bundle.js"></script>


<h2>file upload (multiple)</h2>
<form method="post" action="/multiple-file-uploads" id="login-form">
    <p>
        <label for="email-1">Email: </label>
        <input type="email" name="email" placeholder="Your email" value="" pattern="^([a-zA-Z0-9_.+-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$" id="email-1">
    </p>
        <label for="passwd-1">Pass: </label>
        <input type="password" name="password" value="" id="passwd-1">
    </p>
    <p>
        <label for="desc-1">Longer description: </label>
    </p>
    <p>
        <textarea name="test_textarea" id="desc-1"></textarea>
    </p>
    <p>
        <select name="test-select">
            <option value="volvo">Volvo</option>
            <option value="saab" selected>Saab</option>
            <option value="mercedes">Mercedes</option>
            <option value="audi">Audi</option>
        </select>
    </p>
    <p>
        <input type="file" name="upload">
    </p>
    <p>
        <input type="submit" value="Submit" class="btn btn-primary">
    </p>
</form>
<pre id="dumper">
    result dump goes here...
</pre>

<script>
  (function() {
    var form = document.getElementById('login-form');
    var dumpContainer = document.getElementById('dumper');
    console.log(form);
    form.onsubmit = function() {
      console.log('click');
      Perform.submit(
        form,
        function success(response) {
          console.log('success', response.target.responseText);
          dumpContainer.innerHTML = response.target.response;
        },
        function error(error) {
          console.log('Error', error);
          dumpContainer.innerHTML = 'Error! See the console for details';
        }
      );

      return false;
    };
  })();
</script>




</body>
</html>
